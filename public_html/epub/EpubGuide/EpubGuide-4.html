<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
   <title>&lsquo;Epub Format Construction Guide&rsquo; - HXA7241 : part 4</title>

   <link rel="stylesheet" type="text/css" href="EpubGuide.css" />
</head>


<body>

<div class="edge" id="header"><a href="http://www.hxa.name/articles/"><img src="hxa7241-logo.svg" alt="HXA7241 logo"/></a></div>


<div id="text">

<div class="section" id="containerstructure">
<h2>4: Container Structure</h2>

   <p>Arrange all files in the following directory structure:</p>
   <div class="codeblock">
      <span class="highlight">EpubGuide</span><br/>
         <div class="codeblock">META-INF
            <div class="codeblock">container.xml</div>
         mimetype<br/>
         content.opf<br/>
         toc.ncx<br/>
         <span class="highlight">EpubGuide.css</span><br/>
         <span class="highlight">hxa7241-logo.svg</span><br/>
         <span class="highlight">EpubGuide-title.html</span><br/>
         <span class="highlight">EpubGuide-contents.html</span><br/>
         <span class="highlight">EpubGuide-intro.html</span><br/>
         <span class="highlight">EpubGuide-1.html</span><br/>
         <span class="highlight">EpubGuide-2.html</span><br/>
         <span class="highlight">EpubGuide-3.html</span><br/>
         <span class="highlight">EpubGuide-4.html</span><br/>
         <span class="highlight">EpubGuide-specs.html</span></div>
   </div>

   <p>(<code>META-INF</code> and its contents are special, but all other files can be arranged into any subdirectory structure. All references to them, in the various files, may have to be adjusted though.)</p>

   <p>Then zip them into an archive with Zip. The filename extension should be &lsquo;epub&rsquo;, and the <code>mimetype</code> file must be first (and uncompressed), and extra file attributes must be excluded:</p>
   <div class="codeblock">
      zip -X0 <span class="highlight">EpubGuide-hxa7241.epub</span> mimetype<br/>
      zip -Xur9D <span class="highlight">EpubGuide-hxa7241.epub</span> *
      <!-- sometimes fails to put mimetype file first: -->
      <!--zip -Xr9D <span class="highlight">EpubGuide-hxa7241.epub</span> mimetype *-->
   </div>

   <p>(Get Zip from: <a href="ftp://ftp.info-zip.org/pub/infozip/">ftp://ftp.info-zip.org/pub/infozip/</a> or <a href="http://www.info-zip.org/Zip.html">http://www.info-zip.org/Zip.html</a> .)</p>

   <p>Other zip programs can probably be used, if they can do the same things.</p>

   <p><i>(The Sony Reader, and perhaps others, have an extra requirement: each HTML file must be &lt; 300KB and &lt; 100KB when zipped.)</i></p>

   <p><a href="EpubGuide-specs.html"><i>Specification: OCF</i></a></p>
</div>

</div><!--text-->


</body>

</html>
